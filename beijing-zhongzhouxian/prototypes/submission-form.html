<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>提交作品 - 北京中轴线文化遗产传承与创新大赛</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <style>
        body { padding-top: 56px; background-color: #f8f9fa; }
        .submission-container { max-width: 800px; margin-top: 3rem; margin-bottom: 3rem; }
        footer { background-color: #f8f9fa; padding: 2rem 0; }
    </style>
</head>
<body>
    <!-- Header Navigation (Logged In State) -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top shadow-sm">
        <div class="container">
            <a class="navbar-brand" href="index.html">北京中轴线大赛平台</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                     <li class="nav-item"><a class="nav-link" href="index.html">首页</a></li>
                    <li class="nav-item"><a class="nav-link" href="competition-center.html">赛事中心</a></li>
                    <li class="nav-item"><a class="nav-link" href="gallery.html">作品展示</a></li>
                    <li class="nav-item"><a class="nav-link" href="news.html">新闻资讯</a></li>
                </ul>
                <!-- Logged In User Dropdown -->
                <div class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarUserDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="bi bi-person-circle"></i> 参赛者昵称
                    </a>
                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarUserDropdown">
                        <li><a class="dropdown-item" href="user-center.html"><i class="bi bi-person-lines-fill me-2"></i>个人中心</a></li>
                        <li><a class="dropdown-item" href="user-center.html?section=submissions"><i class="bi bi-collection me-2"></i>我的作品</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item text-danger" href="index.html"><i class="bi bi-box-arrow-right me-2"></i>退出登录</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>

    <!-- Submission Form -->
    <main class="container">
        <div class="card shadow-sm p-4 p-md-5 mx-auto submission-container">
            <h2 class="text-center mb-4">提交参赛作品</h2>
            <p class="text-center text-muted mb-4">请认真填写以下信息，确保内容的准确性和完整性。</p>

            <form>
                <!-- Step 1: Basic Information -->
                <fieldset class="mb-4">
                    <legend class="h5 mb-3 border-bottom pb-2">第一步：作品基本信息</legend>

                    <div class="mb-3">
                        <label for="submissionTitle" class="form-label">作品标题 <span class="text-danger">*</span></label>
                        <input type="text" class="form-control" id="submissionTitle" placeholder="为你的作品取一个响亮的标题" required>
                    </div>

                    <div class="mb-3">
                        <label for="submissionTrack" class="form-label">参赛赛道 <span class="text-danger">*</span></label>
                        <select class="form-select" id="submissionTrack" required>
                            <option selected disabled value="">请选择参赛赛道</option>
                            <option value="oldcity">老城复兴赛道</option>
                            <option value="creative">创意表达赛道</option>
                            <option value="goodlife">美好生活赛道</option>
                            <option value="ambassador">使者达人赛道</option>
                            <option value="pattern">中轴纹样赛道</option>
                            <option value="travel">乐游中轴赛道</option>
                        </select>
                        <!-- Note: This could be pre-filled based on entry point -->
                    </div>

                    <div class="mb-3">
                        <label for="submissionIntro" class="form-label">作品简介 (100字以内)</label>
                        <textarea class="form-control" id="submissionIntro" rows="3" placeholder="简要介绍你的作品亮点和核心理念" maxlength="100"></textarea>
                    </div>

                    <div class="mb-3">
                         <label for="submissionDesc" class="form-label">详细创作说明 <span class="text-danger">*</span></label>
                        <textarea class="form-control" id="submissionDesc" rows="5" placeholder="详细阐述你的创作背景、过程、设计思路、技术实现、创新点等" required></textarea>
                    </div>
                 </fieldset>

                <!-- Step 2: Upload Files -->
                 <fieldset class="mb-4">
                    <legend class="h5 mb-3 border-bottom pb-2">第二步：上传作品文件</legend>
                    <div class="mb-3">
                        <label for="submissionFiles" class="form-label">上传主要文件 <span class="text-danger">*</span></label>
                        <input class="form-control" type="file" id="submissionFiles" multiple>
                        <div class="form-text">
                            根据赛道要求上传设计方案 (PDF)、图片 (JPG/PNG)、视频 (MP4) 等文件。
                            <br><strong>注意：</strong> 文件总大小不超过 100MB，单个文件不超过 50MB。
                            (具体要求请参照各赛道详细说明)
                        </div>
                    </div>
                     <div class="mb-3">
                        <label for="submissionCover" class="form-label">设置封面图片 (可选)</label>
                        <input class="form-control" type="file" id="submissionCover" accept="image/jpeg, image/png">
                        <div class="form-text">选择一张图片作为作品在展示页面的封面。建议尺寸 800x600px。</div>
                    </div>
                </fieldset>

                <!-- Step 3: Team Information (Optional) -->
                <fieldset class="mb-4">
                    <legend class="h5 mb-3 border-bottom pb-2">第三步：团队成员信息 (可选)</legend>
                    <p class="form-text">如果是团队参赛，请添加成员信息。如果是个人参赛，则无需填写。</p>
                    <div id="teamMembersContainer">
                        <!-- Team member fields will be added here dynamically or statically -->
                        <div class="row g-3 align-items-center mb-2 team-member-row">
                             <div class="col-md-4">
                                <input type="text" class="form-control" placeholder="成员姓名">
                            </div>
                            <div class="col-md-5">
                                <input type="text" class="form-control" placeholder="所属单位/学校">
                             </div>
                            <div class="col-md-3 d-flex justify-content-end">
                                <button type="button" class="btn btn-sm btn-danger remove-member-btn" disabled><i class="bi bi-trash"></i> 移除</button>
                            </div>
                        </div>
                    </div>
                    <button type="button" class="btn btn-sm btn-outline-secondary mt-2" id="addTeamMember"><i class="bi bi-plus-circle"></i> 添加更多成员</button>
                 </fieldset>

                <!-- Step 4: Preview & Submit -->
                 <fieldset class="text-center mt-5">
                    <legend class="h5 mb-3 border-bottom pb-2">第四步：预览与提交</legend>
                     <div class="form-check d-inline-block mb-3 text-start">
                         <input class="form-check-input" type="checkbox" value="" id="confirmSubmit" required>
                        <label class="form-check-label" for="confirmSubmit">
                            我已确认所有信息填写无误，并同意提交作品。
                        </label>
                    </div>
                    <br>
                    <button type="button" class="btn btn-secondary me-2">保存草稿</button>
                    <button type="submit" class="btn btn-primary btn-lg"><i class="bi bi-send-check"></i> 确认提交</button>
                </fieldset>

            </form>
        </div>
    </main>

    <!-- Footer -->
     <footer class="text-center text-muted py-4 bg-light mt-auto">
        <div class="container">
            <p class="mb-1">&copy; 2024 北京中轴线文化遗产传承与创新大赛组委会</p>
            <ul class="list-inline mb-0">
                <li class="list-inline-item"><a href="#">关于我们</a></li>
                <li class="list-inline-item"><a href="#">联系方式</a></li>
                <li class="list-inline-item"><a href="#">隐私政策</a></li>
                <li class="list-inline-item"><a href="#">服务条款</a></li>
            </ul>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script>
        // Basic simulation for adding/removing team members
        const addMemberBtn = document.getElementById('addTeamMember');
        const membersContainer = document.getElementById('teamMembersContainer');

        if (addMemberBtn && membersContainer) {
            addMemberBtn.addEventListener('click', () => {
                const newMemberRow = document.createElement('div');
                newMemberRow.className = 'row g-3 align-items-center mb-2 team-member-row';
                newMemberRow.innerHTML = `
                    <div class="col-md-4">
                        <input type="text" class="form-control" placeholder="成员姓名">
                    </div>
                    <div class="col-md-5">
                        <input type="text" class="form-control" placeholder="所属单位/学校">
                    </div>
                    <div class="col-md-3 d-flex justify-content-end">
                        <button type="button" class="btn btn-sm btn-danger remove-member-btn"><i class="bi bi-trash"></i> 移除</button>
                    </div>
                `;
                membersContainer.appendChild(newMemberRow);
                // Enable remove button for the newly added row
                const removeBtn = newMemberRow.querySelector('.remove-member-btn');
                enableRemoveButton(removeBtn);

                 // Ensure the first row's remove button is enabled if more than one row exists
                 const firstRemoveBtn = membersContainer.querySelector('.team-member-row .remove-member-btn');
                 if(membersContainer.children.length > 1 && firstRemoveBtn){
                    firstRemoveBtn.disabled = false;
                 }
            });

            function enableRemoveButton(button) {
                button.disabled = false; // Initially enable remove for added rows
                 button.addEventListener('click', (e) => {
                    e.target.closest('.team-member-row').remove();
                     // Disable remove button on the first row if only one row remains
                    if (membersContainer.children.length === 1) {
                        const firstRemoveBtn = membersContainer.querySelector('.team-member-row .remove-member-btn');
                        if(firstRemoveBtn) firstRemoveBtn.disabled = true;
                    }
                });
            }

            // Enable remove button for existing rows if there are any initially
            const existingRemoveBtns = membersContainer.querySelectorAll('.remove-member-btn');
            existingRemoveBtns.forEach((btn, index) => {
                 // Disable remove on the first row initially if it's the only one
                btn.disabled = (index === 0 && existingRemoveBtns.length === 1);
                if (!btn.disabled) {
                    enableRemoveButton(btn);
                }
            });

        }
    </script>
</body>
</html> 